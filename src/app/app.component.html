<tui-root>
  <div class="vertical-flex max-height">
    <app-header></app-header>
    <div class="content">
      <div class="tui-container tui-container_adaptive max-height">
        <div class="tui-row max-height">
          <div class="tui-col_8">
            <div class="vertical-flex max-height">
              <div class="tui-row tui-space_bottom-6">
                <div class="tui-col_12">
                  <div
                    tuiAppearance="floating"
                    tuiCardLarge
                  >
                    <header tuiHeader>
                      <h2 tuiTitle>Аудиозапись</h2>
                    </header>
                    <app-audio-demo (audioPlay)="initAudio()"></app-audio-demo>
                  </div>
                </div>
              </div>
              <div class="tui-row" style="flex-grow: 1">
                <div class="tui-col_6 max-height">
                  <app-content-block
                    label="Searchy"
                  >
                    @for (message of searchyMessages(); track message) {
                      <app-searchy-block [data]="message"></app-searchy-block>
                    }
                  </app-content-block>
                </div>
                <div class="tui-col_6">
                  <div class="vertical-flex max-height">
                    <app-content-block
                      class="tui-space_bottom-6"
                      style="flex-grow: 1"
                      label="LLM"
                    >
                      @for (message of llmMessages(); track message) {
                        <app-message>{{message}}</app-message>
                      }
                    </app-content-block>

                    <app-content-block
                      style="flex-grow: 1"
                      label="Процедуры"
                    >
                      @for (message of procedures(); track message) {
                        <app-searchy-block [data]="message"></app-searchy-block>
                      }
                    </app-content-block>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tui-col_4">
            <app-content-block label="Чат">
              @for (message of chatMessages(); track message) {
                <app-message>{{message}}</app-message>
              }
            </app-content-block>
          </div>
        </div>
      </div>
    </div>
  </div>
</tui-root>
